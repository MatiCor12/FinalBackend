<h1>Administrar Usuarios</h1>
<div class="ManagerUsers">
    <table>
    <thead>
        <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Role</th>
            <th>Ultima conexion</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {{#each users}}
        <tr>
            <td>{{this.first_name}} {{this.last_name}}</td>
            <td>{{this.email}}</td>
            <td>{{this.role}}</td>
            <td>{{this.last_connection}}</td>
            <td>
                <form action="/api/sessions/admin/users/{{this._id}}" method="POST">
                    <button type="submit">Eliminate</button>
                </form>
            </td>
        </tr>
        {{/each}}
    </tbody>
</table>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('.formatted-date').forEach(function(span) {
            const date = new Date(span.getAttribute('data-date'))
            const formattedDate = date.toLocaleDateString('es-ES', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
            })
            span.textContent = formattedDate
        })
    })
</script>